<!DOCTYPE html>
<html ng-app="clientviewer" lang="en">

	<head>
		<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
				<meta name="viewport" content="width=device-width, initial-scale=1">
					<title translate>COMMONS.CONTAINER.TIT_CONTAINER</title>

					<!-- CSS -->
					<link href="${contextPath}/cobis/web/styles/theme.css" rel="stylesheet" />
					<link href="${contextPath}/cobis/web/views/clientviewer/assets/styles/clientviewer.css" rel="stylesheet" />
    <script type="text/javascript">
        var params = {
            cn_pt: '${contextPath}',
            md_id: 'BNCOS',
            sb_id: 'GCMRC',
            ts_id: 'T_GCMRC_41_BALNS08',
            ts_vr: '1.0.0',
            vc_id: 'VC_BALNS08_UECNS_005',
            releaseMode: 'false',
            minify: 'true',
            dsgnr_vrsn: '6.1.1'
        };
    </script>
					<script id="CEN">
						function logOffFromCen(flagCen){
							clearInterval(keepAliveInterval);
							window.location.href = "${contextPath}/cobis/web/views/commons/cencontext.html?action=" + flagCen;
						}
					</script>
					<script src="${contextPath}/cobis/web/scripts/commons/cobis.censupport.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/jquery/jquery-1.9.1.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/jquery/jquery.blockUI.js"
						type="text/javascript"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/jquery/jquery.validate.min.js"
						type="text/javascript"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-resource.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-route.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-translate.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-translate-loader-partial.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-translate-storage-local.min.js"
						type="text/javascript"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-translate-storage-cookie.min.js"
						type="text/javascript"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/ocLazyLoad.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/bootstrap/bootstrap.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/bootstrap/ui-bootstrap-tpls.min.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/kendo/kendo.all.min.js"></script>

					<script src="${contextPath}/cobis/web/scripts/lib/kendo/ExtComboBox.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/kendo/ExtDatePicker.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/kendo/ExtMaskedTextBox.js"></script>
					<script src="${contextPath}/cobis/web/scripts/lib/kendo/kiui.min.js"></script>
					<script src="${contextPath}/cobis/web/scripts/lib/kendo/ExtComboMultiSelect.js"></script>
					<script src="${contextPath}/cobis/web/scripts/lib/kendo/ExtGrid.js"></script>
					<script
						src="${contextPath}/cobis/web/scripts/lib/angular/angular-cookies.min.js"></script>
					<script src="${contextPath}/cobis/web/scripts/lib/script/script.js"></script>
					<script src="${contextPath}/cobis/web/scripts/lib/stuartk/jszip.js"></script>

                                        <script src="${contextPath}/cobis/web/scripts/commons/minification-imports.js"></script>


					<script type="text/javascript"
						src="${contextPath}/cobis/web/views/customer/find-customers.js"></script>
					<script type="text/javascript"
						src="${contextPath}/cobis/web/views/customer/services/find-customers-srv.js"></script>
					<script type="text/javascript"
						src="${contextPath}/cobis/web/views/customer/controllers/find-customers-ctrl.js"></script>
					<script type="text/javascript" src="controllers/container-clientviewer-ctrl.js"></script>
					<script type="text/javascript" src="services/consolidate-view-srv.js"></script>

					<script type="text/javascript" src="services/container-clientviewer-srv.js"></script>

					<script type="text/javascript" src="services/address-view-srv.js"></script>
					<script type="text/javascript" src="services/container-clientviewer-external-srv.js"></script>
					
					<!--script type="text/javascript" src="controllers/products-view-ctrl.js"></script>
					<script type="text/javascript" src="controllers/products-sale-ctrl.js"></script>
					<script type="text/javascript" src="controllers/other-information-ctrl.js"></script>
					<script type="text/javascript" src="controllers/debts-ctrl.js"></script>
					<script type="text/javascript" src="controllers/warranties-ctrl.js"></script>
					<script type="text/javascript" src="controllers/liabilities-view-ctrl.js"></script>
					<script type="text/javascript" src="controllers/indirect-risk-ctrl.js"></script>
					<script type="text/javascript" src="controllers/standby-credits-ctrl.js"></script>
					<script type="text/javascript" src="controllers/other-products-ctrl.js"></script>
					<script type="text/javascript" src="controllers/address-view-ctrl.js"></script>
					<script type="text/javascript" src="controllers/reports-view-ctrl.js"></script>

					<script type="text/javascript" src="controllers/client-exception-view-ctrl.js"></script>
					<script type="text/javascript" src="controllers/customer-visits-view-ctrl.js"></script-->
	</head>

	<!-- Change the app name -->

	<body>
		<div ng-controller="clientviewer.clientviewerController" ng-init="initData()">
			<script id="javascriptTemplateHistory" type="text/x-kendo-template">
			<span translate> {{dataItem.text}}</span>
		</script>
			<script id="historyGridTemplate" type="text/x-kendo-template">
            <a class="k-button k-button-icontext k-grid-excel"><span class="k-icon k-i-excel"></span><span translate>CLIENTVIEWER.LABELS.LBL_EXPORT_XSL</span></a>
				<a class="k-button k-button-icontext k-grid-pdf"><span class="k-icon k-i-pdf"></span><span translate>CLIENTVIEWER.LABELS.LBL_EXPORT_PDF</span></a>
        </script>
			<div ng-show="!customerCodeLocal">
				<div designer-form-load form="vc.viewState.dynamic"></div>
			</div>
			<div class="cb-viewport cb-flex cb-column" ng-show="customerCodeLocal">
				<div class="cb-form-header cb-no-margin">
						<form id="searchForm">
							<div class=" form-group pull-right" style="margin-top:14px;">
								<div class="input-group cb-required" style="width:300px;">
									<input type="text" placeholder="{{'CLIENTVIEWER.LABELS.LBL_PLACEHOLDER_SEARCH'|translate}}" class="form-control" ng-model="searchedCustomer" required data-required-msg="{{'CLIENTVIEWER.LABELS.LBL_CLIENT_CODE_MSG'|translate}} {{'COMMONS.MESSAGES.MSG_REQUIRED_ERROR'|translate}}" ng-keypress="onKeyPressDigit($event)"/>
								<div class="input-group-btn">
										<button class="btn btn-default" ng-click="buscarEntidad($event)">
										<span class="glyphicon glyphicon-search"></span>
									</button>
									<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="padding: 4px 6px;">
										<span class="caret"></span>
									</button>
									<ul class="dropdown-menu dropdown-menu-right" id="menu" ng-click="setSelected()" class="{{ selected }}">
										<li><a href="javascript://" ng-click="buscar($event)" translate>CLIENTVIEWER.LABELS.LBL_OPTION_ADVANCED_SEARCH</a></li>
										<li class="divider"></li>
										<li ng-repeat="item in menu" style="margin-left:15px; margin-right:15px;">
											<div class="checkbox">
												<label>
												<input type="checkbox" ng-checked="item.checked" ng-change="changeMenuOption()" ng-model="item.checked" value="{{item.checked}}"/>
													<span style="color:#333;" translate>{{item.option}}</span>
												</label>
											</div>
										</li>
									</ul>
								</div>
	                        </div>
						</div>
						</form>
						<input type="hidden" maxlength="20" ng-model="dynamicClientData.clientGeneralData.code" ng-disabled="isCustomerCodeEnabled" ng-keypress="onKeyPressDigit($event)" ng-keydown="tab($event)"></input>
					<div style="line-height:normal;">
						<div class="cb-text-xl cb-text-capitalize">
								<span>{{ dynamicClientData.clientGeneralData.name }}</span>
								<span class="{{  classStyle  }}"></span>
							</div>
							<span ng-if="showNaturalPerson  || showCompany">{{ dynamicClientData.clientGeneralData.documentId }}</span>
							<ul class="list-inline" style="margin-bottom: 0;">
                        <li ng-if="!isEconomicGroup && !isSolidarityGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_CUSTOMER_CODE</span>
                            <span>{{ dynamicClientData.clientGeneralData.code }}</span>
                        </li>
								<li ng-if="isEconomicGroup">
									<span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_ECONOMIC_GROUP_CODE</span>
                            <span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.code }}</span>
                        </li>
						<li ng-if="isSolidarityGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_SOLIDARITY_GROUP_CODE</span>
                            <span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.code }}</span>
									</li>
								<li ng-if="isCorporation">
									<span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_REPRESENTATIVE_NAME</span>
									<span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.tutorName }}</span>
									</li>
                        <li ng-if="isEconomicGroup || isSolidarityGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_STATUS_CLIENT</span>
                            <span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.state }}</span>
                        </li>
                        <li ng-if="isEconomicGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_TYPE</span>
                            <span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.groupType }}</span>
                        </li>

                        <li ng-if="isSolidarityGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_PRESIDENT</span>
                            <span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.tutorName }}</span>
                        </li>
                        <li ng-if="isEconomicGroup">
									<span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_PRINCIPAL_MEMBER</span>
									<span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.tutorName }}</span>
									</li>
                        <li ng-if="isSolidarityGroup">
                            <span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_CYCLE_NUMBER_HDR</span>
                            <span>{{ dynamicClientData.clientGeneralData.cycleNumber }}</span>
									</li>
                        <li ng-if="!isEconomicGroup && !isSolidarityGroup">
									<span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_CUSTOMER_JOIN</span>
                            <span>{{ dynamicClientData.clientGeneralData.joinDate }}</span>
									</li>
                        <li>
									<span class="control-label" translate>CLIENTVIEWER.LABELS.LBL_ACCOUNT_EXECUTIVE</span>
								<span class="cb-text-capitalize">{{ dynamicClientData.clientGeneralData.descriptionOfficial }}</span>
									</li>

							</ul>
						</div>
					</div>
				<div id="container" class="k-tabstrip-wrapper cb-flex cb-grow">					
						<div id="menuTab" kendo-tab-strip class="cb-flex cb-column cb-grow">
							<ul>
								<li id="tab1" class="k-state-active">
									<span class="cb-icon glyphicon glyphicon-dashboard"></span>
									<span class="cb-title" translate>MENU.LABELS.LBL_CONSOLIDATE_VIEW</span>
								</li>
								<li>
									<span class="cb-icon glyphicon glyphicon-briefcase"></span>
									<span class="cb-title" translate>MENU.LABELS.LBL_PRODUCTS</span>
								</li>
								<li>
									<span class="cb-icon glyphicon glyphicon-user"></span>
									<span ng-if='showNaturalPerson || showCompany' class="cb-title" translate>MENU.LABELS.LBL_CLIENT_INFORMATION</span>
									<span ng-if='isEconomicGroup || isSolidarityGroup' class="cb-title" translate>MENU.LABELS.LBL_GROUP_INFORMATION</span>
								</li>
								<li ng-show="false">
									<span class="cb-icon glyphicon glyphicon-gift"></span>
									<span class="cb-title" translate>MENU.LABELS.LBL_CAMPAINGS</span>
								</li>
								<li ng-show="true">
										<span class="cb-icon glyphicon glyphicon-option-vertical"></span>
									<span class="cb-title" translate>MENU.LABELS.LBL_OTHER_INFORMATION</span>
								</li>
							</ul>
							<div class="cb-grow cb-no-padding" style="position:relative; padding:0;">
									<div designer-form-load form="vc.viewState.consolidateView"></div>
								</div>
							<div class="cb-grow cb-no-padding" style="position:relative; padding:0;">
									<div designer-form-load form="vc.viewState.productsSale"></div>
								</div>
							<div class="cb-grow cb-no-padding" style="position:relative; padding:0;">
									<div designer-form-load form="vc.viewState.informationView"></div>
								</div>
							<div class="cb-grow cb-no-padding" style="position:relative; padding:0;">
								<!--div designer-form-load form=""></div-->
							</div>
							<div class="cb-grow cb-no-padding" style="position:relative; padding:0;">
									<div designer-form-load form="vc.viewState.otherInformation"></div>
								</div>
							</div>
						</div>
					</div>
					</div>
		<div id="loader_CONSOLIDATEPOS" class="cb-view-loading cb-hidden"> 
			<div class="cb-view-loading-icon"></div> 
		</div>
		<div ng-controller="keepAliveCen.Controller"></div>
	</body>

</html>